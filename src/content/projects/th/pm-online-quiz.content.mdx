---
title: PM Online Quiz (พอมอถามได้ตอบได้)
description: เว็บไซต์สำหรับโครงการพอมอถามได้ตอบไดั เพื่อให้นักเรียนได้ทดสอบความรู้ความสามารถทางวิชาการ ผ่านการทำแบบทดสอบประเมินความรู้
releaseDate: 2022-03-10
tags:
  - year 2564
  - website
image: /images/projects/pm-online-quiz/user-exam.jpg
gitUrl: https://github.com/coolkidssatit/pm-online-quiz
rating: 5
workDuration: 5
---

import ResponsiveBanner from "../../../components/Markdown/ResponsiveBanner"

## ที่มาของผลงาน

ผมได้รับมอบหมายจากคณะกรรมการนักเรียน ปีการศึกษา 2564 
ให้ออกแบบระบบและจัดทำเว็บไซต์สำหรับทำแบบทดสอบออนไลน์ในโครงการ “พอมอถามได้ตอบได้” 
เพื่อให้นักเรียนได้ฝึกฝนและเตรียมความพร้อมในการทำแบบทดสอบในระดับต่าง ๆ ได้แก่

1. **ระดับชั้นมัธยมศึกษา** เป็นแบบทดสอบความรู้และความสามารถทั่วไป โดยแบ่งแบบทดสอบออกเป็น 3 ชุด 3 กลุ่มสาระการเรียนรู้ ได้แก่ ภาษาไทย สังคมศึกษา และภาษาต่างประเทศ กลุ่มสาระการเรียนรู้ละ 35 ข้อ
2. **ระดับชั้นมัธยมศึกษาตอนปลาย** เป็นแบบทดสอบความรู้ระดับเดียวกับการสอบเข้ามหาวิทยาลัย ที่รวบรวมจากแบบทดสอบเก่าในช่วงหลายปีที่ผ่านมา โดยแบ่งแบบทดสอบออกเป็น 5 ชุด 5 กลุ่มสาระการเรียนรู้ ได้แก่
   - ภาษาไทย 50 ข้อ
   - สังคมศึกษา 50 ข้อ
   - คณิตศาสตร์ 30 ข้อ
   - วิทยาศาสตร์ 50 ข้อ
   - ภาษาต่างประเทศ (ภาษาอังกฤษ) 80 ข้อ

## รายละเอียดผลงาน

เว็บไซต์นี้จัดทำโดยใช้ภาษา TypeScript เลือกใช้ Next.js เป็น React Framework สำหรับการพัฒนา
และเผยแพร่เว็บไซต์นี้ผ่านทางแพลตฟอร์ม Vercel และ Netlify

<ResponsiveBanner />

ระบบข้อสอบที่จัดทำขึ้นภายในเว็บไซต์นี้เป็นระบบที่เขียนขึ้นเองทั้งหมด เนื่องจากตัวเลือกในการจัดทำแบบทดสอบออนไลน์ในขณะนั้นมีตัวเลือกไม่มาก
และตัวเลือกที่เข้าถึงได้เช่น Google Forms ไม่ตอบโจทย์ต่อการใช้งานในขณะนั้น

[ทำไม Google Forms จึงไม่ตอบโจทย์ในการจัดทำแบบทดสอบ](/details/why-not-google-forms)

ระบบข้อสอบภายในเว็บไซต์นี้เป็นระบบข้อสอบแบบเลือกตอบหลายตัวเลือก (Multiple Choices) ประกอบด้วย**โปรแกรมแก้ไข (Editor)** และ**โปรแกรมแสดงผล (Viewer)** โดยมีคุณสมบัติเด่นดังนี้

- **ใช้รูปแบบภาษา Markdown** ซึ่งเป็นภาษาที่มีลักษณะคล้ายกับข้อความปกติ (Plain Text) ทั่วไป แต่สามารถเพิ่มเติมการจัดรูปแบบข้อความ (เช่น ตัวหนา ตัวบาง)
  ได้ด้วยคำสั่งในรูปของตัวอักษรหรือสัญลักษณ์ต่าง ๆ ทำให้สามารถเรียนรู้ได้ง่าย
- **สามารถแสดงผลสูตรคณิตศาสตร์ได้ด้วยคำสั่งภาษา LaTeX** โดยไม่จำเป็นต้องใช้โปรแกรมเสริม (ใช้ Library [KaTeX](https://katex.org/) เพื่อแสดงผลโดยตรงจากภายในเว็บไซต์)
- **สามารถแบ่งตอน (Section) ย่อยในข้อสอบได้** เหมาะสำหรับรายวิชาที่มีหลายส่วนหลายตอน เช่น วิชาภาษาอังกฤษ
- **สามารถแสดงผลเนื้อหา (Content) ควบคู่ไปกับแบบทดสอบ** และสามารถเลือกให้แสดงเฉพาะส่วนย่อยที่ต้องการได้ เช่น แสดงผลบทความ (Passage) หรือคำสั่ง (Instructions) ของแบบทดสอบ
- **สามารถจับเวลาการทำแบบทดสอบได้** รวมทั้งมีระบบส่งคำตอบอัตโนมัติเมื่อครบกำหนดระยะเวลา
- **มีระบบการบันทึกคำตอบขณะยังไม่กดส่ง** โดยบันทึกข้อมูลที่ฝั่งของผู้ใช้ (Client) ทำให้เมื่อผู้ใช้ปิดเบราวเซอร์แล้วเปิดเข้าใช้งานใหม่จะยังคงคำตอบในแบบทดสอบชุดเดิมนี้ไว้

### การจัดทำข้อสอบด้วยโปรแกรมแก้ไข (Editor)

กรรมการนักเรียนที่มีส่วนเกี่ยวข้องสามารถเข้าถึงโปรแกรมแก้ไข (Editor) ได้ โดยเมื่อเข้าสู่โปรแกรมแก้ไขแล้วจะดึงรายการแบบทดสอบทั้งหมดจากฐานข้อมูล แล้วแสดงให้แก่ผู้ใช้งาน ดังรูป

![Subject Lists - Editor](/images/projects/pm-online-quiz/editor-subject-list.png)

ฐานข้อมูลสำหรับระบบแก้ไขนี้เลือกใช้เป็น Firebase Firestore ซึ่งเป็นฐานข้อมูลแบบ NoSQL สำหรับการจัดเก็บข้อมูลในระหว่างการจัดแบบข้อสอบและพัฒนาระบบ เนื่องจากมีความสะดวก สามารถแก้ไขได้รวดเร็ว

> อย่างไรก็ตามในการใช้งานจริง (Production) ข้อมูลแบบทดสอบทั้งหมดจะถูกประมวลผลและจัดเก็บในรูปแบบของไฟล์ JSON ขนาดเล็กหลาย ๆ ไฟล์
> โดยไฟล์เหล่านี้สามารถเข้าถึงได้ผ่าน Github CDN เพื่อความสะดวกรวดเร็วในการเข้าถึงข้อมูลแบบทดสอบจริง และลดค่าใช้จ่ายเมื่อเรียกดูข้อมูลหลาย ๆ ครั้งติดต่อกัน
>
> สามารถดูตัวอย่างการจัดเก็บไฟล์ได้ [ที่นี่](https://github.com/lemasc/pm-online-quiz-data)

หัวใจสำคัญของระบบข้อสอบนี้คือการแบ่งข้อสอบออกเป็นส่วนย่อย (Section) ต่าง ๆ โดยให้เสมือนหนึ่งว่าตัวข้อสอบเอง คือ **Section หลัก**
และอาจประกอบด้วย **หลาย ๆ Section ย่อย** โดยในแต่ละ Section ก็สามารถมี **หลาย ๆ ข้อ (Items)** ได้
ทำให้ในแต่ละ Section (รวมถึงตัวแบบทดสอบเอง) สามารถกำหนดค่าต่าง ๆ ได้โดยอิสระ
ไม่กระทบซึ่งกันและกัน เช่น Section นี้ไม่สามารถสุ่มลำดับข้อได้
หรือ Section นี้มีการแสดงเนื้อหา (Content) นี้ตลอดในทุกข้อย่อย

![Sections - Editor](/images/projects/pm-online-quiz/admin-exam-sections.gif)

สำหรับการเพิ่มหรือแก้ไขข้อในโปรแกรมแก้ไขนั้น เลือกใช้ไลบรารี [TOAST UI Editor](https://ui.toast.com/tui-editor)
ซึ่งเป็นไลบรารีของโปรแกรมแก้ไข Markdown สำเร็จรูป ทำให้ผู้ใช้งานสามารถเขียนคำสั่งในภาษา Markdown ทางด้านซ้าย
และแสดงผลตัวอย่างทางด้านขวาได้ทันที

**ดังนั้นขั้นตอนในการจัดทำข้อสอบคือ** จัดทำข้อสอบโดยใช้โปรแกรมแก้ไขและกำหนดรูปแบบของข้อสอบด้วยคำสั่งที่ต้องการ จากนั้นเลือกเมนูเพื่อสลับข้อไปยังข้อถัดไป
และเมื่อเสร็จสิ้นการจัดทำข้อสอบแล้ว สามารถเลือกเมนูเพื่อแสดงตัวอย่างของทั้งข้อสอบ รวมทั้งตรวจคำตอบได้ทันที สามารถนำเสนอได้ดังรูป

![Items - Editor](/images/projects/pm-online-quiz/admin-overview.gif)


ไลบรารี TOAST UI Editor รองรับการเขียน Plugins จึงสามารถแทรกคำสั่งพิเศษเพื่อกำหนดให้เปลี่ยนรูปแบบการแสดงผลได้
ด้วยเหตุนี้เองจึงมีการเขียนหลาย Plugin เพิ่มเติมและกำหนดคำสั่งเฉพาะเพื่อให้แสดงผลตามต้องการ ยกตัวอย่างเช่น
ในการแสดงผลตัวเลือกในข้อนั้น ให้ใช้คำสั่ง `$$choices` เพื่อแสดงข้อความในรูปของตัวเลือกข้อ จากนั้นเลือกข้อที่ถูกต้องทางด้านขวา (ด้านแสดงตัวอย่าง)
โดยระบบจะกำหนดเป็นตัวเลือกที่ถูกต้องสำหรับข้อนั้น ๆ

_ตัวอย่างการเขียน Plugin `choices` เพื่อแสดงผลตัวเลือกในข้อสอบ_

```
https://github.com/lemasc/pm-online-quiz/blob/main/components/quiz/plugins/mcq.tsx#L66-L83
```

โปรแกรมแก้ไขจึงสามารถกำหนดการแสดงผลได้หลากหลาย ทั้งจากคำสั่งพื้นฐานของภาษา Markdown เอง และคำสั่งอื่น ๆ ที่เขียนขึ้นเองด้วย ดังแสดงในตัวอย่างดังรูป

![Editor Markdown Features](/images/projects/pm-online-quiz/editor-features.png)